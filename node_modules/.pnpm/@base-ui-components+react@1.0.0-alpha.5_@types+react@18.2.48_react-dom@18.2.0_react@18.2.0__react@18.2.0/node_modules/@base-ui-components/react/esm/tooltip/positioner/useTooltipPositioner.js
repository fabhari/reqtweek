import * as React from 'react';
import { mergeReactProps } from '../../utils/mergeReactProps.js';
import { useAnchorPositioning } from '../../utils/useAnchorPositioning.js';
import { useTooltipRootContext } from '../root/TooltipRootContext.js';
export function useTooltipPositioner(params) {
  const {
    open,
    trackCursorAxis,
    mounted
  } = useTooltipRootContext();
  const positioning = useAnchorPositioning(params);
  const getPositionerProps = React.useCallback(externalProps => {
    const hiddenStyles = {};
    if (!open) {
      hiddenStyles.pointerEvents = 'none';
    }
    if (trackCursorAxis === 'both') {
      hiddenStyles.pointerEvents = 'none';
    }
    return mergeReactProps(externalProps, {
      role: 'presentation',
      hidden: !mounted,
      style: {
        ...positioning.positionerStyles,
        ...hiddenStyles
      }
    });
  }, [open, trackCursorAxis, mounted, positioning.positionerStyles]);
  return React.useMemo(() => ({
    getPositionerProps,
    ...positioning
  }), [getPositionerProps, positioning]);
}