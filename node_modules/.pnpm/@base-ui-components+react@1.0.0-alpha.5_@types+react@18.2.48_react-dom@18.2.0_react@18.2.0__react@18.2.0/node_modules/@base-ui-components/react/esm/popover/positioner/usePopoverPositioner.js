import * as React from 'react';
import { mergeReactProps } from '../../utils/mergeReactProps.js';
import { useAnchorPositioning } from '../../utils/useAnchorPositioning.js';
import { usePopoverRootContext } from '../root/PopoverRootContext.js';
export function usePopoverPositioner(params) {
  const {
    open,
    mounted
  } = usePopoverRootContext();
  const positioning = useAnchorPositioning(params);
  const getPositionerProps = React.useCallback((externalProps = {}) => {
    const hiddenStyles = {};
    if (!open) {
      hiddenStyles.pointerEvents = 'none';
    }
    return mergeReactProps(externalProps, {
      role: 'presentation',
      hidden: !mounted,
      style: {
        ...positioning.positionerStyles,
        ...hiddenStyles
      }
    });
  }, [open, mounted, positioning.positionerStyles]);
  return React.useMemo(() => ({
    getPositionerProps,
    ...positioning
  }), [getPositionerProps, positioning]);
}